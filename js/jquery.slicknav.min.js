/*
 mobile dropdown from an existing UL menu.
*/
(function(){
  function buildSlickNav(menuSelector, options){
    var opts = options || {};
    var source = document.querySelector(menuSelector);
    var target = document.querySelector(opts.prependTo || '#mobile-menu-container');
    if(!source || !target){ return; }

    var wrapper = document.createElement('div');
    wrapper.className = 'slicknav_menu';

    var button = document.createElement('button');
    button.className = 'slicknav_btn';
    button.type = 'button';
    button.setAttribute('aria-expanded', 'false');
    button.textContent = opts.label || 'Menu';

    var navList = source.cloneNode(true);
    navList.classList.add('slicknav_nav');

    button.addEventListener('click', function(){
      var isOpen = navList.classList.toggle('open');
      button.setAttribute('aria-expanded', String(isOpen));
    });

    wrapper.appendChild(button);
    wrapper.appendChild(navList);
    target.innerHTML = '';
    target.appendChild(wrapper);
  }

  window.buildSlickNav = buildSlickNav;
})();
